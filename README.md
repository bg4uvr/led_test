#### 前言
刚开始接触STM32时，是使用MDK环境，用STD库学习的。后来不想用D版了，就改用EmBitz环境来了，EmBitz在使用时，库文件是自动复制的，不需要手工整理了，比较方便。但这个EmBitz在版本已经很老了，有几年没有更新了。最近发现STM官方的STM32CubeIDE不错，于是开始学习这个环境。软件操作很快就可以上手，但难点在于以前都是用STD库，没有学过HAL库，所以所有硬件操作对于我来说都是全新的方法，需要摸索。现在有些时间，就把学习过程记录一下，希望能帮到和我一样准备转换开发环境或者刚开始学习HAL库的朋友。

#### 实验简介
实验使用某宝最常见的stm32f103c8t6小板，用定时器1，配置了溢出和比较匹配两个中断，来对PC13口的LED进行PWM控制（因为这个端口并不是某个定时器的输出端口，所以没有直接使用定时器的PWM功能）。

**演示视频**

https://v.youku.com/v_show/id_XNDY1MDM1ODc1Ng==.html


**完整实验代码下载地址：**
[Gitee](https://gitee.com/bg4uvr/led_test)
[Github](https://github.com/bg4uvr/led_test)


#### 怎样打开这个项目：

由于国内玩STM32单片机的爱好者，大部份都是使用MDK开发环境学习的（我本人就是这样），所以对于这个STM32cubeIDE 新开发环境的操作不熟悉，我自己也是刚接触这个，我测试把这个项目克隆下来，竟然自己都也不能正确打开…… （ #_#! ）好在经过一番摸索，还是成功了，这里把步骤说一下，供需要朋友参考：

1. **怎样克隆项目**

   如果你平时就使用git，那这就不是问题了，直接用一句

   `git clone https://gitee.com/bg4uvr/led_test.git`
   或
   `git clone https://github.com/bg4uvr/led_test.git`

   就可以克隆到本地了。

   如果你没有安装git软件，那么可以直接点击“克隆/下载”，然后点击下面的“下载ZIP”，这样会下载一个ZIP压缩文件，下载好后解压缩就可以得到项目的文件夹了。

2. **怎样打开项目**

   * 安装STM32CubeIDE

     打开官网 https://www.st.com/zh/development-tools/stm32cubeide.html 下载STM32CubeIDE，官网下载需要注册，如果你不想注册也可以去其他地方下载。下载后安装好，不再赘述。

   * 导入项目

     克隆好的项目并不能在 STM32CubeIDE 软件中直接打开，这是因为你下载好后的项目代码，路径和我的电脑上是不一样的，因此需要导入这个项目后才可以。具体操作如果：

     * 打开你的 STM32CubeIDE 软件，如果有更新之类的，都让它自己更新好，其实你安装后，你不用任何设置，它就已经可以很好的工作了。随着你对它的熟悉，你可能会有一些更细致的设置需求，那时你可以再仔细研究，本处略过不说。
     
     * 打开软件后，默认是打开 “Welcome to STM32CubeIDE” 欢迎页面的，但这个页面可能之前被你关掉过了，它就不会再自动打开。如果没自动打开这个页面也没关系，可以点击图标栏上最右一个叹号的图标 “Information Center” (消息中心)，就可以打开这个欢迎页面了。
     * 点击3个蓝色方块的中间一个，“Start new project from STM32CubeMX .ioc file”，在新出现的窗口上点击右侧的 “Browse...”，然后选择刚才克隆好的项目目录，选中 .ioc文件，点击“打开”，再点击 “Finish”，经过一番跑条后，你应该终于看到了一个显示芯片的引脚的界面。
     * 本处是讲如何导入这个项目，所以本页里面具体的设置就不多聊了，直接点击工具栏图标的 “黄色齿轮” 图标（Device Configuration Tool Code Generation），又是一番跑条，点击工具栏图标最后侧 ”蓝色MX“ 图标左面那个图标（C/C++），左侧就可以看到项目管理器了，你可以点击打开各个代码来查看，也可以进行编译下载了。
     * 项目这样导入后，下次就可以直接打开了，不需要再次导入。